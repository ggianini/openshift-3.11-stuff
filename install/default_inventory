[OSEv3:children]
masters
nodes
etcd
nfs

# Set variables common for all OSEv3 hosts
[OSEv3:vars]
# ============================================
# Variaveis Gerais
# ============================================
openshift_deployment_type=openshift-enterprise
openshift_clock_enabled=true
ansible_ssh_user=root
openshift_disable_check=memory_availability,disk_availability,docker_storage,docker_storage_driver
openshift_enable_olm=true

openshift_master_identity_providers=[{'name': 'Local', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider'}]
openshift_master_htpasswd_users={'admin': '<hidden>', 'superadmin': '<hidden>'}

# ============================================
# Configurações do Master
# ============================================
openshift_master_cluster_method=native
openshift_master_cluster_hostname=api-int.ocpdemo.com
openshift_master_cluster_public_hostname=api.ocpdemo.com
openshift_master_default_subdomain=apps.ocpdemo.com

#as entradas abaixo n sao utilizadas quando a master tb e infra, nesse caso a api vai utilizar a porta 8443
#openshift_master_api_port=443
#openshift_master_console_port=443

openshift_master_htpasswd_users={'admin': '$apr1$xySBCH36$Lzw6m81rKP/hIqJYbXUht0', 'developer': '$apr1$xySBCH36$Lzw6m81rKP/hIqJYbXUht0'}
openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider'}]

# ===========================================
# Networking
# ===========================================
os_sdn_network_plugin_name='redhat/openshift-ovs-networkpolicy'
# ---------> As duas linhas abaixo devem ser alteradas em caso de coincidencia das redes no cliente. Sugere-se manter as mascaras. Atentar para rede Docker tambem. 172.17.0.0
osm_cluster_network_cidr=10.128.0.0/14
openshift_portal_net=172.30.0.0/16


# ============================================
# Configurações do Docker
# ============================================
# ----------> Mudar a linha abaixo caso mude a rede de servico 172.30.0.0/16
openshift_docker_options="--insecure-registry=172.30.0.0/16 --selinux-enabled --log-driver json-file --log-opt max-size=1M --log-opt max-file=3"

# ============================================
# Configurações da subscrição
# ============================================

# ===========================================
# Metrics Server
# ===========================================
openshift_metrics_server_install=true

# ============================================
# Prometheus Operator
# ============================================
openshift_cluster_monitoring_operator_install=true

# ===========================================
# Registry
# ===========================================
openshift_hosted_registry_storage_kind=nfs
openshift_hosted_registry_storage_access_modes=['ReadWriteMany']
openshift_hosted_registry_storage_nfs_directory=/exports
openshift_hosted_registry_storage_nfs_options='*(rw,root_squash)'
openshift_hosted_registry_storage_volume_name=registry
openshift_hosted_registry_storage_volume_size=10Gi

# ------> Descomentar caso seja usado gluster
#openshift_hosted_registry_selector='node-role.kubernetes.io/infra=true'
#openshift_hosted_registry_storage_kind=glusterfs
#openshift_hosted_registry_storage_volume_size=80Gi
#openshift_hosted_registry_selector='node-role.kubernetes.io/infra=true'
#openshift_storage_glusterfs_registry_wipe=true

# ===========================================
# Logging
# ===========================================
openshift_logging_install_logging=true
openshift_logging_es_nodeselector={"node-role.kubernetes.io/infra":"true"}

# ===========================================
# NFS LOGGING EXTERNAL NFS HOST
# ===========================================
openshift_logging_storage_kind=nfs
openshift_logging_storage_access_modes=['ReadWriteOnce']
openshift_logging_storage_host=services.ocpdemo.com
openshift_logging_storage_nfs_directory=/exports 
openshift_logging_storage_nfs_options='*(rw,root_squash)'
openshift_logging_storage_volume_name=logging
openshift_logging_storage_volume_size=10Gi
openshift_enable_unsupported_configurations=true
openshift_logging_elasticsearch_storage_type=pvc
openshift_logging_es_pvc_size=10Gi
openshift_logging_es_pvc_storage_class_name=''
openshift_logging_es_pvc_dynamic=true
openshift_logging_es_pvc_prefix=logging

# --------> Descomentar em caso de gluster
#openshift_logging_es_nodeselector={"node-role.kubernetes.io/infra":"true"}
#openshift_logging_install_logging=true
#openshift_logging_es_pvc_dynamic=true


# ===========================================
# Gluster
# ===========================================
#openshift_storage_glusterfs_namespace=app-storage
#openshift_storage_glusterfs_storageclass=true
#openshift_storage_glusterfs_storageclass_default=false
#openshift_storage_glusterfs_block_deploy=true
#openshift_storage_glusterfs_block_host_vol_size=100
#openshift_storage_glusterfs_block_storageclass=true
#openshift_storage_glusterfs_block_storageclass_default=false
#openshift_storage_glusterfs_wipe=true

#openshift_storage_glusterfs_image=registry.redhat.io/rhgs3/rhgs-server-rhel7:3.11.3-15
#openshift_storage_glusterfs_block_image=registry.redhat.io/rhgs3/rhgs-gluster-block-prov-rhel7:3.11.3-15
#openshift_storage_glusterfs_s3_image=registry.redhat.io/rhgs3/rhgs-s3-server-rhel7:3.11.3-15
#openshift_storage_glusterfs_heketi_image=registry.redhat.io/rhgs3/rhgs-volmanager-rhel7:3.11.3-15
#openshift_storage_glusterfs_registry_image=registry.redhat.io/rhgs3/rhgs-server-rhel7:3.11.3-15
#openshift_storage_glusterfs_block_registry_image=registry.redhat.io/rhgs3/rhgs-gluster-block-prov-rhel7:3.11.3-15
#openshift_storage_glusterfs_s3_registry_image=registry.redhat.io/rhgs3/rhgs-s3-server-rhel7:3.11.3-15
#openshift_storage_glusterfs_heketi_registry_image=registry.redhat.io/rhgs3/rhgs-volmanager-rhel7:3.11.3-15

# ===========================================
# Service Catalog
# ===========================================
openshift_enable_service_catalog=true
ansible_service_broker_install=true
template_service_broker_install=true
template_service_broker_selector={"node-role.kubernetes.io/infra":"true"}
openshift_template_service_broker_namespaces=['openshift']
ansible_service_broker_local_registry_whitelist=['.*-apb$']

# ===========================================
# NFS
# ===========================================
openshift_enable_unsupported_configurations=true

# ===========================================
# Cloudforms
# ===========================================
#openshift_cfme_install_app=true
#openshift_management_install_beta=true
#openshift_node_groups=[{'name': 'node-config-master', 'labels': ['node-role.kubernetes.io/master=true']}, {'name': 'node-config-infra', 'labels':['node-role.kubernetes.io/infra=true',]}, {'name': 'node-config-compute', 'labels': ['node-role.kubernetes.io/compute=true'], 'edits': [{ 'key': 'kubeletArguments.pods-per-core','value': ['20']}]}]

# ===========================================
# 3.11 new stuff
# ===========================================

oreg_url=registry.redhat.io/openshift3/ose-${component}:${version}
oreg_auth_user=12449009|ggianini
oreg_auth_password=eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJjZDk0ZWMyZTU4ODg0YzMzOGFjMjU4OGUxNDU3NjY4YyJ9.orkrp5evau5aFVtZL4mTT-_cOqfkbddi8brjSNfc_S1lpxYcSr5y8f_MoqgfrQ-yogYnuVW0OzspZk0x8vSY7OlqPUX9A1VT6jhtbkS75SbTrSj03v_oF4I0ogHwHVQ6b1FEH3htlgUoz5I5_yRP4fHDU12eKiCvVrtRZQMGmj3-tqCeQTpVPGznnd5cIxmx4gozXSJO01OestajrYgn4X_599TUYFVmd1y44St7xn2cZMat22km6CSCChGnovEu2MDbNqkPKxgC4dtW9V1RMn0eI0BYkhHN3iQZjrg4Np8xkYg-TwS0cPqknQoXJeLMSAAJtcMzUR5cj6GOoM5l9JcMKgXWo4DmItsz-kRwgbfL7tedJQHm6TcnTTPhVGm0uaEKs1IjQObOUwV6kci1dTAJAEjZQaK5N5L98ZOcxZGUMex4c2n09fCwVDXnAtZEGMJRajcokxF6kuekvCrd2E9kMyAVisp1KPp_ed16NwZ1sMu1jISk4nvhekULivvPPeRrw9UwceG9Uo99EV4uvfJbm25X5A8r5WLFhP25Iievh8oPuYhrCirMVOCnN8T9dOOpyZkxgRprLOcAg0K4M8PglWoNkwVawWr6uQOIn9GU4HhBihGREmGg_f53HlNTpdNzULIhbUnH5J7tgsBEiEV1PGddK84NK4fMzIXZy1M
openshift_examples_modify_imagestreams=true
openshift_install_examples=true
openshift_additional_registry_credentials=[{'host':'registry.connect.redhat.com','user':'12449009|ggianini','password':'eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJjZDk0ZWMyZTU4ODg0YzMzOGFjMjU4OGUxNDU3NjY4YyJ9.orkrp5evau5aFVtZL4mTT-_cOqfkbddi8brjSNfc_S1lpxYcSr5y8f_MoqgfrQ-yogYnuVW0OzspZk0x8vSY7OlqPUX9A1VT6jhtbkS75SbTrSj03v_oF4I0ogHwHVQ6b1FEH3htlgUoz5I5_yRP4fHDU12eKiCvVrtRZQMGmj3-tqCeQTpVPGznnd5cIxmx4gozXSJO01OestajrYgn4X_599TUYFVmd1y44St7xn2cZMat22km6CSCChGnovEu2MDbNqkPKxgC4dtW9V1RMn0eI0BYkhHN3iQZjrg4Np8xkYg-TwS0cPqknQoXJeLMSAAJtcMzUR5cj6GOoM5l9JcMKgXWo4DmItsz-kRwgbfL7tedJQHm6TcnTTPhVGm0uaEKs1IjQObOUwV6kci1dTAJAEjZQaK5N5L98ZOcxZGUMex4c2n09fCwVDXnAtZEGMJRajcokxF6kuekvCrd2E9kMyAVisp1KPp_ed16NwZ1sMu1jISk4nvhekULivvPPeRrw9UwceG9Uo99EV4uvfJbm25X5A8r5WLFhP25Iievh8oPuYhrCirMVOCnN8T9dOOpyZkxgRprLOcAg0K4M8PglWoNkwVawWr6uQOIn9GU4HhBihGREmGg_f53HlNTpdNzULIhbUnH5J7tgsBEiEV1PGddK84NK4fMzIXZy1M','test_image':'mongodb/enterprise-operator:0.3.2'}]
                       

# ===========================================
# Proxy
# ===========================================
#openshift_http_proxy=proxy.cliente.com.br:8080
#openshift_https_proxy=proxy.cliente.com.br:8080
#openshift_generate_no_proxy_hosts=true
#openshift_no_proxy=<entrada master e nodes com fqdn ou sufixo Ex: .cliente.com.br>,<outros dominios Ex: .cliente.com>,<ip dos etcds separados por virgula Ex: 192.168.2.1,192.168.2.2,192,168.2.3>,<Kubernetes IP address, por padrao 172.30.0.1. Deve ser o valor obtido no parametro openshift_portal_net>,.cluster.local,.svc

#openshift_builddefaults_http_proxy=proxy.cliente.com.br:8080
#openshift_builddefaults_https_proxy=proxy.cliente.com.br:8000
#openshift_builddefaults_no_proxy=<entrada master e nodes com fqdn ou sufixo Ex: .cliente.com.br>,<outros dominios Ex: .cliente.com>,<ip dos etcds separados por virgula Ex: 192.168.2.1,192.168.2.2,192,168.2.3>,<Kubernetes IP address, por padrao 172.30.0.1. Deve ser o valor obtido no parametro openshift_portal_net>,.cluster.local,.svc


#openshift_builddefaults_git_http_proxy=proxy.cliente.com.br:8080
#openshift_builddefaults_git_https_proxy=proxy.cliente.com.br:8080
#openshift_builddefaults_git_no_proxy=<entrada master e nodes com fqdn ou sufixo Ex: .cliente.com.br>,<outros dominios Ex: .cliente.com>,<ip dos etcds separados por virgula Ex: 192.168.2.1,192.168.2.2,192,168.2.3>,<Kubernetes IP address, por padrao 172.30.0.1. Deve ser o valor obtido no parametro openshift_portal_net>,.cluster.local,.svc


# host group for masters
[masters]
master.ocpdemo.com

# host group for etcd
[etcd]
master.ocpdemo.com

# host group for nodes, includes region info
[nodes]
master.ocpdemo.com
node1.ocpdemo.com
node2.ocpdemo.com

[nfs]
services.ocpdemo.com

#[glusterfs_registry]
#ocp-node-1.cliente.com.br glusterfs_devices='[ "/dev/sdc" ]'
#ocp-node-2.cliente.com.br glusterfs_devices='[ "/dev/sdc" ]'
#ocp-node-3.cliente.com.br glusterfs_devices='[ "/dev/sdc" ]'

#[glusterfs]
#ocp-node-1.cliente.com.br glusterfs_devices='[ "/dev/sdd" ]'
#ocp-node-2.cliente.com.br glusterfs_devices='[ "/dev/sdd" ]'
#ocp-node-3.cliente.com.br glusterfs_devices='[ "/dev/sdd" ]'
